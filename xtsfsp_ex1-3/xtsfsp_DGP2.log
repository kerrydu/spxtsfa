. * importing spatial weight matrices from xtsfsp_w2.mmat
. mata mata matuse xtsfsp_w2.mmat,replace
(loading w1[300,300], w10[300,300], w2[300,300], w3[300,300], w4[300,300], w5[300,300], w6[300,300],
 w7[300,300], w8[300,300], w9[300,300])

. local w w1 w2 w3 w4 w5 w6 w7 w8 w9 w10

. use xtsfsp_ex2.dta

. xtset id t 

Panel variable: id (strongly balanced)
 Time variable: t, 1 to 10
         Delta: 1 unit

. * initial values for estimated parameters
. mat b=(2,0.5,1,-1.5,4,-1.5,0.6,0.6)

. * fitting the model
. xtsfsp y x, cost uhet(z) wu(w2,mata) wv(w1,mata) wxvars(x) wx(`w',mata) init(b) genwxvars nolog

Spatial frontier model(xuv-SAR)                       Number of obs =    3,000
                                                      Wald chi2(2)  = 57442.57
Log likelihood = -1911.966                            Prob > chi2   =   0.0000

------------------------------------------------------------------------------
           y | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
frontier     |
           x |   1.995755   .0083855   238.00   0.000      1.97932     2.01219
         W_x |   .5069275   .0221351    22.90   0.000     .4635435    .5503115
       _cons |   .9917396   .0127293    77.91   0.000     .9667906    1.016689
-------------+----------------------------------------------------------------
    /lnsigv2 |  -1.614693   .0260257   -62.04   0.000    -1.665702   -1.563683
-------------+----------------------------------------------------------------
uhet         |
           z |   3.999532    .002155  1855.94   0.000     3.995308    4.003755
       _cons |   -1.69907   .4472607    -3.80   0.000    -2.575685   -.8224549
-------------+----------------------------------------------------------------
Wv           |
       _cons |   .5877877   .0584046    10.06   0.000     .4733168    .7022585
-------------+----------------------------------------------------------------
Wu           |
       _cons |   .6214134   .0008532   728.34   0.000     .6197412    .6230857
-------------+----------------------------------------------------------------
         tau |   .3010498   .0003879   776.13   0.000     .3002894    .3018098
       gamma |   .2856862   .0268157    10.65   0.000     .2323138    .3373429
------------------------------------------------------------------------------
Note: Wv:_cons and Wu:_cons are the transformed parameters;
      gamma and tau are their origin metrics in spatial components, repsectively.
      W_(x) represent Spatial Durbin terms W(x)
